(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-881df58a"],{"06c5":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("fb6a"),n("d3b7"),n("b0c0"),n("a630"),n("3ca3");var r=n("6b75");function a(t,e){if(t){if("string"===typeof t)return Object(r["a"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r["a"])(t,e):void 0}}},"396a":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"d-flex justify-content-end"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.mySelect,expression:"mySelect"}],staticClass:"listInput",attrs:{name:"myList"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.mySelect=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[t._v("選擇清單")]),n("option",{attrs:{value:"List"}},[t._v("Seen")]),n("option",{attrs:{value:"Fav"}},[t._v("Favorite")]),n("option",{attrs:{value:"ToSee",selected:""}},[t._v("To Be Seen")])])]),n("ul",[n("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._l(t.showList,(function(e){return n("li",{key:e.id},[n("div",{staticClass:"listCard mt-5 p-4 d-flex"},[n("div",{staticClass:"mr-4"},[n("img",{attrs:{src:"https://image.tmdb.org/t/p/w200"+e.poster_path,alt:""}})]),n("div",{staticClass:"cardContent d-flex flex-column justify-content-between w-100"},[n("h3",{staticClass:"w-100 mb-2"},[t._v(t._s(e.name))]),n("div",{staticClass:"cardBody"},[n("div",{staticClass:"d-flex mb-2"},[n("div",{staticClass:"starRating d-inline-block mr-2"},[n("div",{staticClass:"empty_star fz-xl"},[t._v("★★★★★")]),n("div",{staticClass:"full_star fz-xl",style:{width:10*e.vote_average+"%"}},[t._v(" ★★★★★ ")])]),n("span",{staticClass:"scoreStyle text-warning mr-2"},[t._v(t._s(e.vote_average))]),n("span",{staticClass:"scoreStyle"},[t._v("("+t._s(e.vote_count)+")人評價")])]),n("p",[t._v(t._s(e.overview))]),n("p",[t._v(" 上映時間："),n("span",[t._v(t._s(e.release_date))])])]),n("div",{staticClass:"cardFooter d-flex justify-content-end"},["ToSee"===t.mySelect?n("button",{staticClass:"d-inline mr-2 btn",attrs:{href:"#",title:"已看過"},on:{click:function(n){return t.addtoList(e,"List")}}},[n("span",{class:["material-icons","iconDec","iconColor"]},[t._v(" list ")])]):t._e(),"List"===t.mySelect||"ToSee"===t.mySelect?n("button",{staticClass:"d-inline btn",attrs:{href:"#",title:"加入最愛"},on:{click:function(n){t.addtoList(e,"Fav"),t.isActive=!t.isActive}}},[n("span",{staticClass:"material-icons iconDec iconColor",class:{clicked:t.isActive}},[t._v(" favorite ")])]):t._e(),n("button",{staticClass:"d-inline btn",attrs:{href:"#",title:"從清單刪除"},on:{click:function(n){return t.delItem(e.movieID,t.mySelect)}}},[n("span",{class:["material-icons","iconDec","iconColor"]},[t._v(" delete ")])])])])])])}))],2)])},a=[];function i(t){if(Array.isArray(t))return t}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");function o(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),e&&n.length===e)break}catch(c){a=!0,i=c}finally{try{r||null==s["return"]||s["return"]()}finally{if(a)throw i}}return n}}var s=n("06c5");function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){return i(t)||o(t,e)||Object(s["a"])(t,e)||c()}var u=n("1da1"),v=(n("96cf"),n("99af"),n("b0c0"),n("d81d"),n("cf5c")),f={mixins:[v["a"]],data:function(){return{showList:[],mySelect:"ToSee",movie:[],isActive:!1,List:[],Fav:[],ToSee:[],isLoading:!1}},watch:{mySelect:function(){this.getList()}},methods:{getList:function(){var t=this,e="/movieBuff/".concat(this.mySelect);this.$http.get(e).then((function(e){t.showList=e.data,console.log(e.data),console.log("showList",t.showList)}))},delItem:function(t,e){var n=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a="/movieBuff/".concat(e,"/").concat(t),r.next=3,n.$http.delete(a).then((function(t){console.log(t.data),n.getList()}));case 3:case"end":return r.stop()}}),r)})))()},addtoList:function(t,e){var n=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var a,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(t),a="/movieBuff/".concat(e,"/").concat(t.movieID),i="/movieBuff/".concat(e),r.next=5,n.$http.get(a);case 5:if(o=r.sent,console.log("res",o),!o.data){r.next=12;break}return alert("已在清單中"),r.abrupt("return");case 12:return r.next=14,n.$http.post(i,{name:t.name,movieID:t.movieID,poster_path:t.poster_path,overview:t.overview||"尚無資訊",release_date:t.release_date,vote_average:t.vote_average,vote_count:t.vote_count});case 14:if(console.log("已加入清單"),"List"!==e){r.next=19;break}return r.next=18,n.delItem(t.movieID,"ToSee");case 18:n.getList();case 19:case"end":return r.stop()}}),r)})))()},getAllList:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=["/movieBuff/List","/movieBuff/Fav","/movieBuff/ToSee"],t.isLoading=!0,e.next=4,Promise.all(n.map(function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get(n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:r=e.sent,console.log("NA",r),r&&(a=l(r,3),t.List=a[0],t.Fav=a[1],t.ToSee=a[2]),t.isLoading=!1;case 8:case"end":return e.stop()}}),e)})))()}},computed:{},created:function(){this.getList(),this.getAllList()}},d=f,m=(n("8869"),n("2877")),p=Object(m["a"])(d,r,a,!1,null,"895d24e2",null);e["default"]=p.exports},"4df4":function(t,e,n){"use strict";var r=n("0366"),a=n("7b0b"),i=n("9bdd"),o=n("e95a"),s=n("50c4"),c=n("8418"),l=n("35a1");t.exports=function(t){var e,n,u,v,f,d,m=a(t),p="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,g=void 0!==b,y=l(m),w=0;if(g&&(b=r(b,h>2?arguments[2]:void 0,2)),void 0==y||p==Array&&o(y))for(e=s(m.length),n=new p(e);e>w;w++)d=g?b(m[w],w):m[w],c(n,w,d);else for(v=y.call(m),f=v.next,n=new p;!(u=f.call(v)).done;w++)d=g?i(v,b,[u.value,w],!0):u.value,c(n,w,d);return n.length=w,n}},"6b75":function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},8869:function(t,e,n){"use strict";n("a80b")},"9bdd":function(t,e,n){var r=n("825a"),a=n("2a62");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(o){throw a(t),o}}},a630:function(t,e,n){var r=n("23e7"),a=n("4df4"),i=n("1c7e"),o=!i((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:o},{from:a})},a80b:function(t,e,n){},d28b:function(t,e,n){var r=n("746f");r("iterator")},e01a:function(t,e,n){"use strict";var r=n("23e7"),a=n("83ab"),i=n("da84"),o=n("5135"),s=n("861d"),c=n("9bf2").f,l=n("e893"),u=i.Symbol;if(a&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var v={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new u(t):void 0===t?u():u(t);return""===t&&(v[e]=!0),e};l(f,u);var d=f.prototype=u.prototype;d.constructor=f;var m=d.toString,p="Symbol(test)"==String(u("test")),h=/^Symbol\((.*)\)[^)]+$/;c(d,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=m.call(t);if(o(v,t))return"";var n=p?e.slice(7,-1):e.replace(h,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}}}]);
//# sourceMappingURL=chunk-881df58a.54cda273.js.map